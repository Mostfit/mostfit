- months = Merb::Maintainer::TasksHelper::MONTHS
- weekdays = Merb::Maintainer::TasksHelper::WEEKDAYS

#task-list
  %input.ajax-fetch{:type => "button", :value => "List Tasks", :url => "/maintain/tasks"}

%hr

#add-task

  #command-section
    - @rake_tasks = get_mostfit_rake_tasks
    %form{:action => "/maintain/tasks/create",:method => "POST"}
      %table
        %thead
          %tr
            %th
            %th Task
            %th Description
        %tbody
          - @rake_tasks.each do |command,desc|
            %tr
              %td
                %input{:type => "checkbox", :name => "tasks[]", :value => "#{command}"}
              %td
                = "#{command}"
              %td
                = "#{desc}"
  
      %hr
      #time-section
        When to execute:
        %table
          %thead
            %tr
              %th Minutes
              %th Hours
              %th Days
              %th Months
              %th Weekdays
          %tbody
            %tr
              %td#minutes
                %input{:type => "radio", :checked => "checked", :name => "minutes-selected", :value => "0"} All
                %br
                %input.select-enabler{:type => "radio", :name => "minutes-selected", :value => "1"} Selected
                %br
                - (0..4).each do |i|
                  %select{:multiple => "multiple", :name => "minute[]"}
                    - (0..11).each do |j|
                      %option{:value => "#{12*i+j}"}= "#{12*i+j}"
              %td#hours
                %input{:type => "radio", :checked => "checked", :name => "hours-selected", :value => "0"} All
                %br
                %input.select-enabler{:type => "radio", :name => "hours-selected", :value => "1"} Selected
                %br
                - (0..1).each do |i|
                  %select{:multiple => "multiple", :name => "hour[]"}
                    - (0..11).each do |j|
                      %option{:value => "#{12*i+j}"}= "#{12*i+j}"
              %td#days
                %input{:type => "radio", :checked => "checked", :name => "days-selected", :value => "0"} All
                %br
                %input.select-enabler{:type => "radio", :name => "days-selected", :value => "1"} Selected
                %br
                - (0..2).each do |i|
                  %select{:multiple => "multiple", :name => "day[]"}
                    - (1..12).each do |j|
                      - if (12*i+j) > 31
                        - break
                      %option{:value => "#{12*i+j}"}= "#{12*i+j}"
              %td#months
                %input{:type => "radio", :checked => "checked", :name => "months-selected", :value => "0"} All
                %br
                %input.select-enabler{:type => "radio", :name => "months-selected", :value => "1"} Selected
                %br
                %select{:multiple => "multiple", :name => "month[]"}            
                  - (0..11).each do |i|
                    %option{:value => "#{i+1}"}= "#{months[i]}"
              %td#weekdays
                %input{:type => "radio", :checked => "checked", :name => "weekdays-selected", :value => "0"} All
                %br
                %input.select-enabler{:type => "radio", :name => "weekdays-selected", :value => "1"} Selected
                %br
                %select{:multiple => "multiple", :name => "weekday[]"}
                  - (0..6).each do |i|
                    %option{:value => "#{i}"}= "#{weekdays[i]}"
      %input{:type => "submit", :value => "Submit"}