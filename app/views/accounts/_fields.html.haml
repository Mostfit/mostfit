%table.tall.shaded
  %tr
    %th
      Account Type
    %td
      = select :account_type_id, :collection => AccountType.all.map{ |a| [a.id, a.name]}, :prompt => "Select Account"
  %tr
    %th
      Account Category (if applicable)
    %td
      = select(:account_category, :collection => [[:Cash, "Cash"], [:Bank, "Bank"]] , :prompt => "Select Account Category")
  %tr
    %th
      Asset Class
    %td
      = select(:asset_class, :collection => [ASSET_CLASSES, EQUITY].flatten, :prompt => ASSET_CLASS_NOT_CHOSEN)
  %tr
    %th
      Income Head
    %td
      = select(:income_head, :collection => INCOME_HEADS, :prompt => INCOME_HEAD_NOT_CHOSEN)
  %tr 
    %th
      Branch
    %td
      = select :branch_id, :collection => @branches_list, :prompt => "Select Branch"
  %tr
    %th
      Parent Account
    %td 
      /= select :parent_id, :collection => (@accounts||[]).map{|x| [x.id.to_s, "#{x.name} (#{x.gl_code})"]}, :prompt => "Select Parent Account", :selected => @account.parent_id
      = show_accounts_selector(@accounts, {:selected_id => @account.parent_id, :tag => true, :id => "account_parent_id", :name => "account[parent_id]", :prompt => "Choose parent account"})

  %tr  
    %th
      Name
    %td
      = text_field :name
  %tr
    %th
      GL Code
    %td
      = text_field :gl_code
  %tr
    %th 
      Opening Balance
    %td
      = text_field :opening_balance
      on
      = date_select_for @account, :opening_balance_on_date 
