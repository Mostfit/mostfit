- @location ||= obj.location
%div{:style => "padding-left: 5px; padding-bottom: 35px;"}
  %h2
    Geocode
  %form{:action => resource(:locations), :method => "POST", :class => "_remote_"}
    %input{:type => "hidden", :name => "location[parent_id]", :value => obj.id}
    %input{:type => "hidden", :name => "location[parent_type]", :value => obj.class.to_s.snake_case}
    %b Latitude
    %input{:type => "text", :id => :latitude, :name => "location[latitude]", :value => (@location ? @location.latitude : '')}
    %b Longitude
    %input{:type => "text", :id => :longitude, :name => "location[longitude]", :value => (@location ? @location.longitude : '')}
    %input{:type => "submit", :name => "submit", :value => "save"}
    %input{:type => "hidden", :name => "_target_", :value => "result_box"}
  #result_box
  #map_canvas{:style => "height: 400px; width: 600px;"}
  %br
  %b Address
  %input{:type => "text", :id => :map_address, :name => "map_address", :value => approx_address(obj), :size => 40}
  %input{:type => "submit", :name => "map_address_click", :value => "Map it!", :onclick => "codeAddress()" }

